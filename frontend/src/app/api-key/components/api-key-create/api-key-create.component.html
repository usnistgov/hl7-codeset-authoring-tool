<div style="height: 100%; width: 100%; padding: 3rem; background-color: white; overflow: scroll;">
  <div style="max-width: 800px; margin: auto;">
    <div class="mb-3">
      <dam-alerts-container></dam-alerts-container>
    </div>
    <h2 style="text-align: center;">Create Api Key</h2>
    <form [formGroup]="form">
      <div class="form-group">
        <label style="font-weight: bold;" for="name">Name</label>
        <input formControlName="name" class="form-control" type="text" name="name" id="name">
      </div>
      <div class="form-group">
        <p-checkbox formControlName="expires" [binary]="true" (ngModelChange)="expiresChange($event)"></p-checkbox>
        <label style="font-weight: bold; margin-left: 5px;" for="name">Expiration (days)</label>
        <input formControlName="validityDays" class="form-control mt-1" type="number" min="1" name="name" id="name">
      </div>
    </form>
    <div style="display: flex; justify-content: space-between; margin-top: 5px; margin-bottom: 10px;">
      <h5>Code Sets</h5>
      <button class="btn btn-sm btn-primary" (click)="addCodeSet()">
        <fa-icon icon="plus"></fa-icon>
        Add CodeSet
      </button>
    </div>
    @if (selectedCodesets.length === 0) {
    <div style="text-align: center; color: #f56262;">
      At least one code set must be added to the access key.
    </div>
    } @else if (selectedCodesets.length > 0) {
    <ul class="list-group">
      @for (item of selectedCodesets; track $index) {
      <li class="list-group-item list-item" style="display: flex; align-items: center; justify-content: space-between;">
        <span>
          <strong style="margin-left: 10px">{{item.name}}</strong>
        </span>
        <button class="btn btn-sm btn-danger" (click)="removeCodeset($index)">
          <fa-icon icon="close"></fa-icon>
        </button>
      </li>
      }

    </ul>
    }

    <div class="mt-3" style="display: flex; justify-content: flex-end; width: 100%;">
      <button (click)="submit()" class="btn btn-primary" [disabled]="form.invalid">
        Create
      </button>
    </div>
  </div>
</div>